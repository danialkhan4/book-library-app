{"version":3,"sources":["firebase.js","key.js","components/Auth.js","components/BookCard.js","components/SearchPage.js","components/Library.js","components/Login.js","components/Logout.js","components/PrivateRoute.js","components/LandingPage.js","components/App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","AuthContext","React","createContext","useAuth","useContext","AuthProvider","children","useState","user","setUser","loading","setLoading","useEffect","onAuthStateChanged","newUser","value","login","googleAuth","GoogleAuthProvider","signInWithPopup","logout","signOut","Provider","Text","Typography","menu","onClick","console","log","Item","key","Book","props","button","authorRender","titleRender","len","authors","length","i","push","subtitle","name","strong","isLibraryRender","bookData","title","thumbnail","axios","post","uid","then","response","onChange","catch","error","message","style","marginRight","DeleteOutlined","type","res","status","warning","success","ImportOutlined","className","alt","src","overlay","DownOutlined","Search","Input","isUndefined","object","SearchPage","books","setBooks","searchInput","setSearchInput","a","get","data","items","id","event","target","trim","placeholder","onSearch","enterButton","map","item","volumeInfo","imageLinks","smallThumbnail","handleUndefinedData","BookCard","Library","libraryBooks","setLibraryBooks","toUpdate","setToUpdate","libraryLoading","setLibraryLoading","updateLibrary","params","loadLibrary","displayName","Login","Title","history","useHistory","level","Logout","size","LogoutOutlined","PrivateRoute","Component","component","rest","render","to","LandingPage","App","href","block","GithubOutlined","ApiOutlined","exact","path","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.5b51f073.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport {authData} from './key';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nfirebase.initializeApp(authData);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport default firebase;\r\n\r\n","export var authData = {\r\n  apiKey: \"AIzaSyCbb11Pr-rx9Sk6oFW95_eP8LmZpxEdJEM\",\r\n  authDomain: \"book-library-app-8eb19.firebaseapp.com\",\r\n  databaseURL: \"https://book-library-app-8eb19.firebaseio.com\",\r\n  projectId: \"book-library-app-8eb19\",\r\n  storageBucket: \"book-library-app-8eb19.appspot.com\",\r\n  messagingSenderId: \"553206836295\",\r\n  appId: \"1:553206836295:web:ca4ff0892ff6fd281b1562\",\r\n  measurementId: \"G-KFFN83VGEQ\"\r\n};","import React, { useState, useContext, useEffect } from 'react'; \r\nimport firebase, { auth } from '../firebase';\r\n\r\nconst AuthContext = React.createContext(); \r\n\r\nexport function useAuth() {\r\n  return useContext(AuthContext);\r\n}\r\n\r\nexport function AuthProvider( {children} ) {\r\n  const [user, setUser] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  \r\n  function login() {\r\n    const googleAuth = new firebase.auth.GoogleAuthProvider();\r\n    return auth.signInWithPopup(googleAuth);\r\n  }\r\n  \r\n  \r\n  function logout() {\r\n    return auth.signOut();\r\n  }\r\n  \r\n  useEffect(() => {\r\n    const unsub = auth.onAuthStateChanged (newUser => {\r\n      setUser(newUser);\r\n      setLoading(false)\r\n    })\r\n    \r\n    return unsub; \r\n  }, [])\r\n  \r\n  \r\n  const value = {\r\n    user,\r\n    login,\r\n    logout\r\n  }\r\n  return (\r\n    \r\n    <AuthContext.Provider value={value}>\r\n      {!loading && children}\r\n    </AuthContext.Provider>\r\n\r\n  );\r\n}","import React from 'react';\r\nimport { useAuth } from './Auth';\r\n\r\nimport axios from 'axios';\r\n\r\nimport { Typography, Button, Menu, Dropdown, message  } from 'antd';\r\nimport '../css/bookcard.css';\r\n\r\nimport { DownOutlined, ImportOutlined, DeleteOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst menu = (\r\n  <Menu onClick={console.log(\"click\")}>\r\n    <Menu.Item key=\"1\">Read</Menu.Item>\r\n    <Menu.Item key=\"2\">Currently reading</Menu.Item>\r\n    <Menu.Item key=\"3\">Want to read</Menu.Item>\r\n  </Menu>\r\n);\r\n\r\nfunction Book(props) {\r\n  let authorRender = [];\r\n  let titleRender  = [];\r\n  const {user} = useAuth();\r\n\r\n  const len = props.authors.length - 1;\r\n  \r\n  /*\r\n  * push the authors into authorRender so there is a nice string like Author 1, Author 2\r\n  */\r\n  for (let i = 0; i < props.authors.length; i++) {\r\n    if (props.authors.length === 1) {\r\n      authorRender.push(<Text key={i}>{props.authors[i]}</Text>);\r\n    } else if (i !== len) {\r\n      authorRender.push(<Text key={i}>{props.authors[i]}, </Text>);\r\n    } else {\r\n      authorRender.push(<Text key={i}>{props.authors[i]}</Text>);\r\n    }\r\n  }\r\n\r\n  /*\r\n  * push the title and subtitle together for something like Book Title: Subtitle \r\n  */\r\n  if (props.subtitle) {\r\n    titleRender.push(<Text key={props.name}strong >{props.name}: {props.subtitle}<br/></Text>);\r\n  } else {\r\n    titleRender.push(<Text key={props.name}strong >{props.name}<br/></Text>);\r\n  }\r\n\r\n\r\n  /* handle the request and add the book to the user's library in firstore\r\n  *\r\n  */\r\n  function handleAdd() {\r\n    if (!user) {\r\n      message.error('You must be logged in to do that');\r\n      return;\r\n    }\r\n    const bookData = {\r\n      title: props.name,\r\n      authors: props.authors,\r\n      subtitle: props.subtitle,\r\n      thumbnail: props.thumbnail\r\n    }\r\n    axios.post('/api/user/add', {\r\n      bookData,\r\n      uid: user.uid\r\n    }).then(function(res) {\r\n      switch (res.status) {\r\n        case 227:\r\n          message.warning('This book is already in your library');\r\n          break;\r\n        default:\r\n          message.success('Book added to your library');\r\n          break;\r\n      }\r\n    }).catch (function(error) {\r\n      message.error(\"(Error) book was not added\");\r\n    });\r\n  }\r\n \r\n  function handleRemove() {\r\n    const bookData = {\r\n      title: props.name,\r\n      authors: props.authors,\r\n      subtitle: props.subtitle,\r\n      thumbnail: props.thumbnail\r\n    }\r\n    axios.post('/api/user/remove', {\r\n      bookData,\r\n      uid: user.uid\r\n    }).then (function(response) {\r\n      props.onChange();\r\n    }).catch (function(error) {\r\n      message.error(\"(Error) book was not added\");\r\n    });\r\n  }\r\n  /* check if we are rendering for library to search page */\r\n\r\n  //console.log(props.isLibraryRender);\r\n  let button;\r\n  if (props.isLibraryRender) {\r\n    button = <Button onClick={handleRemove} style={{marginRight: 5}}><DeleteOutlined /></Button>;\r\n  } else {\r\n    button = <Button type=\"primary\" onClick={handleAdd} style={{marginRight: 5}}><ImportOutlined />Add to shelf</Button>;\r\n  }\r\n  return (\r\n    <div className=\"bookCard\"> \r\n      <img className=\"imageContainer\" alt={titleRender} src={props.thumbnail} />\r\n      <div className=\"textContainer\" >\r\n        {titleRender}<br/>\r\n        {authorRender}\r\n        </div>\r\n\r\n      <div className=\"options\">\r\n        {button}\r\n        { props.isLibraryRender && \r\n          <Dropdown overlay={menu}>\r\n          <Button type=\"dashed\">\r\n            Mark as <DownOutlined />\r\n          </Button>\r\n        </Dropdown>\r\n        }\r\n      </div>\r\n    </div> \r\n\r\n  );\r\n}\r\n\r\nexport default Book;\r\n","import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Input, Spin, message } from 'antd';\r\n\r\nimport BookCard from './BookCard';\r\nimport '../css/booksearch.css';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SearchPage() {\r\n  const [books, setBooks ] = useState([]); \r\n  const [searchInput, setSearchInput] = useState(''); \r\n  const [loading, setLoading] = useState(false);\r\n\r\n  function handleInput(event) {\r\n    setSearchInput(event.target.value.trim());\r\n  }\r\n\r\n  /*\r\n\t* api fetch using searchInput as the query \r\n\t*/\r\n  async function handleSearch() {\r\n    setLoading(true);\r\n    try {\r\n      if (searchInput.length === 0 || !searchInput) {\r\n        message.warning(\"Please enter something\");\r\n        setLoading(false);\r\n        return;\r\n      }\r\n  \r\n      axios.get('https://www.googleapis.com/books/v1/volumes?q='+searchInput+'&key=AIzaSyC8h_mfSuQv6QnzAbucMydsQlFOVEvhU_o')\r\n      .then(response => { \r\n        setBooks(response.data.items);\r\n        setLoading(false);\r\n      })\r\n      .catch(function (error) {\r\n        message.error(\"Error occurred \");\r\n        setLoading(false);\r\n      });\r\n\r\n    } catch (error) {\r\n      message.error(\"Error occurred \");\r\n      setLoading(false);\r\n    }\r\n\r\n }\r\n\r\n\treturn (\r\n\t\t<div className=\"bookSearch\">\r\n      <div id=\"numInput\">\r\n          <Search onChange={handleInput} placeholder=\"Book Title\" onSearch={handleSearch} enterButton />\r\n      </div>\r\n\r\n      <div id=\"spinner\">\r\n        {loading && <Spin/>} \r\n      </div>\r\n      <div className=\"listing\">\r\n        {\r\n          books && books.map((item, i) => {\r\n            handleUndefinedData(item); \r\n            return <BookCard key={item.id}\r\n              name={item.volumeInfo.title} \r\n              thumbnail={item.volumeInfo.imageLinks.thumbnail} \r\n              subtitle= {item.volumeInfo.subtitle}\r\n              authors = {item.volumeInfo.authors}\r\n              isLibraryRender={false}\r\n            />\r\n            \r\n          })\r\n        }\r\n      </div>\r\n    </div>\r\n\t);\r\n}\r\n\r\n/*\r\nhandle any undefined data from the api call before mapping\r\n*/\r\nfunction handleUndefinedData(item) {\r\n  if (isUndefined(item.volumeInfo.imageLinks)) {\r\n    item.volumeInfo.imageLinks = {\r\n      thumbnail: \"default\",\r\n      smallThumbnail: \"default\"\r\n    }\r\n  }\r\n\r\n  if (isUndefined(item.volumeInfo.subtitle)) \r\n    item.volumeInfo.subtitle = false;\r\n  \r\n  if (isUndefined(item.volumeInfo.authors))  \r\n    item.volumeInfo.authors = [\" \"];\r\n  \r\n  if (isUndefined(item.volumeInfo.title)) \r\n    item.volumeInfo.title = \" \";\r\n}\r\n\r\n/*\r\n* undefined handling\r\n*/\r\nfunction isUndefined(object) {\r\n  return typeof(object) === 'undefined' ? true : false; \r\n}\r\n\r\nexport default SearchPage;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useAuth } from './Auth';\r\nimport BookCard from './BookCard';\r\n\r\nimport axios from 'axios';\r\nimport '../css/library.css';\r\nimport { Spin } from 'antd';\r\n\r\nfunction Library() {\r\n  const [libraryBooks, setLibraryBooks ] = useState([]); \r\n  const [toUpdate, setToUpdate] = useState(false);\r\n  const [libraryLoading, setLibraryLoading] = useState(false);\r\n  const {user} = useAuth();\r\n\r\n\r\n  function updateLibrary() {\r\n    if (toUpdate) {\r\n      setToUpdate(false)\r\n    } else {\r\n      setToUpdate(true);\r\n    }\r\n  }\r\n  useEffect(() => {\r\n    setLibraryLoading(true);\r\n    async function loadLibrary() {\r\n      try {\r\n        if (!user) {\r\n          setLibraryBooks([]);\r\n          setLibraryLoading(false);\r\n        } else {\r\n          axios.get('/api/library', {\r\n            params: {\r\n              uid: user.uid\r\n            }\r\n          })\r\n          .then(response => {\r\n              setLibraryBooks(response.data)\r\n              setLibraryLoading(false);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n              setLibraryLoading(false);\r\n          });\r\n        }\r\n  \r\n      } catch (error) {\r\n        console.log(error);\r\n          setLibraryLoading(false);\r\n      } \r\n    }\r\n\r\n    loadLibrary();\r\n\r\n  },[user, toUpdate]);\r\n  \r\n  return (\r\n    <div className=\"bookLibrary\">\r\n      { user ? <h3 className=\"library\">{user && user.displayName}'s Books {libraryLoading && <Spin />}</h3> :\r\n      <h1 className=\"library\">Login to see your library</h1>\r\n      }\r\n      <div className=\"listing\">\r\n      {\r\n        libraryBooks && libraryBooks.map((item, i) => {\r\n          //handleUndefinedData(item); \r\n          return <BookCard \r\n            key={item.title + item.authors}\r\n            name={item.title} \r\n            onChange={updateLibrary}\r\n            thumbnail={item.thumbnail} \r\n            subtitle= {item.subtitle}\r\n            authors = {item.authors}\r\n            isLibraryRender={true}\r\n          />\r\n           \r\n        })\r\n      }\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n \r\nexport default Library;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from './Auth.js';\r\n\r\nimport { Typography, message } from 'antd';\r\nimport GoogleButton from 'react-google-button';\r\n\r\nimport '../css/login.css'\r\n\r\n\r\nfunction Login() {\r\n  const { login } = useAuth();\r\n  const { Text, Title  } = Typography;\r\n  const history = useHistory();\r\n  \r\n  async function handleLogin() {\r\n    try {\r\n      await login();\r\n      history.push('/library');\r\n    } catch {\r\n       message.error('Error occurred');\r\n    }\r\n  }\r\n  return (\r\n    <div className=\"login-card\">\r\n        <Title level={5}>── Login ──</Title>\r\n        <GoogleButton id=\"google-login\" onClick={handleLogin} type=\"dark\"/>\r\n    </div>\r\n\r\n  );\r\n\r\n}\r\n\r\nexport default Login;","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useAuth } from './Auth.js';\r\nimport { Button, message } from 'antd';\r\nimport { LogoutOutlined } from '@ant-design/icons';\r\n\r\n\r\nfunction Logout() {\r\n  const { logout } = useAuth();\r\n  const history = useHistory();\r\n\r\n  async function handleLogout() {\r\n    try {\r\n      await logout();\r\n      history.push(\"/\");\r\n    } catch {\r\n       message.error('Logout failed');\r\n    }\r\n  }\r\n  return <Button onClick={handleLogout} size=\"medium\"><LogoutOutlined />Logout</Button>;\r\n\r\n}\r\n\r\nexport default Logout;","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport { useAuth } from './Auth';\r\n\r\nfunction PrivateRoute ( {component: Component, ...rest} ) {\r\n  const { user } = useAuth();\r\n  return (\r\n    <Route \r\n      {...rest} \r\n      render={ (props) => {\r\n        return user ? <Component {...props} /> : <Redirect to='/login' /> \r\n      }} \r\n    >\r\n\r\n    </Route>\r\n      \r\n  );\r\n}\r\n\r\nexport default PrivateRoute; ","import React from 'react';\r\nimport '../css/landingpage.css';\r\nfunction LandingPage() {\r\n  return (\r\n    <div className=\"landing\">\r\n      <h3>Welcome</h3>\r\n    </div> \r\n  );\r\n\r\n}\r\n\r\nexport default LandingPage;","import React from 'react';\r\nimport { Switch, Route, HashRouter as Router, Link } from  'react-router-dom';\r\nimport { useAuth, AuthProvider} from './Auth';\r\nimport { Button } from 'antd';\r\nimport { GithubOutlined, ApiOutlined } from '@ant-design/icons';\r\n\r\nimport SearchPage from './SearchPage';\r\nimport Library from './Library';\r\nimport Login from './Login';\r\nimport Logout from './Logout';\r\nimport PrivateRoute from './PrivateRoute';\r\nimport LandingPage from './LandingPage';\r\n\r\nimport '../css/index.css';\r\nimport '../css/navbar.css';\r\nimport 'antd/dist/antd.css';\r\n\r\n\r\nfunction App() {\r\n  const { user } = useAuth();\r\n  return ( \r\n    <Router>\r\n      <div className=\"App\">\r\n\r\n        <div className=\"navbar\">\r\n\r\n          <div className=\"leftInfo\">\r\n          <div className=\"title\">\r\n            <Link id=\"title\" to =\"/\">Books Library</Link>\r\n          </div>\r\n\r\n          <div className=\"buttons\">\r\n            <ul>\r\n            <li><Link to =\"/library\">My Library</Link></li>\r\n            <li><Link to =\"/search\">Search</Link></li>\r\n            <li><Link to =\"/settings\">Settings</Link></li>\r\n            </ul>\r\n          </div>\r\n\r\n          </div>\r\n        \r\n          <div className=\"rightInfo\"> \r\n            <div className=\"links\">\r\n              <ul>\r\n                <li>\r\n                  <Button href=\"https://github.com/danialkhan4/book-library-web-app\" target=\"_blank\" type=\"link\" block>\r\n                    <GithubOutlined />View Github\r\n                  </Button>\r\n                  </li>\r\n                <li>\r\n                  <Button href=\"https://developers.google.com/books\" target=\"_blank\" type=\"link\" block>\r\n                    <ApiOutlined />Google Books\r\n                  </Button>\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n            <div className=\"login\">\r\n              <ul>\r\n                <li> \r\n                  {!user ?\r\n                  <Link to =\"/login\"><Button type=\"primary\" size=\"large\" >Login</Button></Link> :\r\n                  <Logout />\r\n                  }\r\n                </li>\r\n              </ul>\r\n            </div>\r\n\r\n          </div>\r\n        </div>\r\n      </div> \r\n        <Switch>\r\n          <Route exact path =\"/search\" component={SearchPage}/>\t\t\r\n          <PrivateRoute exact path=\"/library\" component={Library} />\r\n          <Route exact path =\"/login\" component={Login}/>\t\t\r\n          <Route exact path =\"/\" component={LandingPage}/>\t\t\r\n        </Switch>\r\n    </Router>\r\n  );\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport { HashRouter } from 'react-router-dom'\r\nimport { AuthProvider } from './components/Auth';\r\n\r\nimport App from './components/App';\r\n\r\nReactDOM.render(\r\n  //<React.StrictMode>\r\n  <HashRouter>\r\n    <AuthProvider>\r\n      <App />\r\n    </AuthProvider>\r\n  </HashRouter>,\r\n    \r\n  //</React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\n"],"sourceRoot":""}