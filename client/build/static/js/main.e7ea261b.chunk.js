(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{144:function(e,t,a){e.exports=a(245)},174:function(e,t,a){},202:function(e,t,a){},232:function(e,t,a){},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},242:function(e,t,a){},245:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),o=a.n(r),c=a(55),i=a(70),u=a(29),m=a(78),s=a.n(m);a(149),a(152);s.a.initializeApp({apiKey:"AIzaSyCbb11Pr-rx9Sk6oFW95_eP8LmZpxEdJEM",authDomain:"book-library-app-8eb19.firebaseapp.com",databaseURL:"https://book-library-app-8eb19.firebaseio.com",projectId:"book-library-app-8eb19",storageBucket:"book-library-app-8eb19.appspot.com",messagingSenderId:"553206836295",appId:"1:553206836295:web:ca4ff0892ff6fd281b1562",measurementId:"G-KFFN83VGEQ"});var b=s.a.auth(),h=(s.a.firestore(),s.a),E=a(49),d=a.n(E),f=a(61),g=a(253),p=a(117),v=a.n(p),y=(a(174),a(247));a(175);var k=function(){return l.a.createElement("div",{className:"sidebar"},l.a.createElement(y.a,{style:{width:252},mode:"inline"},l.a.createElement(y.a.ItemGroup,{key:"g1",title:"My Books"},l.a.createElement(y.a.Item,{key:"1"},"Reading"),l.a.createElement(y.a.Item,{key:"2"},"Want to read"),l.a.createElement(y.a.Item,{key:"3"},"Read")),l.a.createElement(y.a.ItemGroup,{key:"g2",title:"Bookshelves"},l.a.createElement(y.a.Item,{key:"4"},"Favorites"))),l.a.createElement(f.a,{style:{marginTop:185,marginLeft:120},className:"create-button",type:"dashed"},"+ Create"))},I=a(248),N=a(246),O=a(249),S=(a(202),a(250)),C=a(251),L=a(252),j=N.a.Text,R=l.a.createElement(y.a,{onClick:console.log("click")},l.a.createElement(y.a.Item,{key:"1"},"Read"),l.a.createElement(y.a.Item,{key:"2"},"Currently reading"),l.a.createElement(y.a.Item,{key:"3"},"Want to read"));var w=function(e){for(var t,a=[],n=[],r=e.authors.length-1,o=0;o<e.authors.length;o++)1===e.authors.length?a.push(l.a.createElement(j,{key:o},e.authors[o])):o!==r?a.push(l.a.createElement(j,{key:o},e.authors[o],", ")):a.push(l.a.createElement(j,{key:o},e.authors[o]));return e.subtitle?n.push(l.a.createElement(j,{key:e.name,strong:!0},e.name,": ",e.subtitle,l.a.createElement("br",null))):n.push(l.a.createElement(j,{key:e.name,strong:!0},e.name,l.a.createElement("br",null))),console.log(e.isLibraryRender),t=e.isLibraryRender?l.a.createElement(f.a,{onClick:function(){console.log("removing");var t={title:e.name,authors:e.authors,subtitle:e.subtitle,thumbnail:e.thumbnail};d.a.post("/user/remove",{bookData:t}).then((function(t){console.log(t),e.onChange()}))},style:{marginRight:5}},l.a.createElement(S.a,null)):l.a.createElement(f.a,{onClick:function(){var t={title:e.name,authors:e.authors,subtitle:e.subtitle,thumbnail:e.thumbnail};d.a.post("/user/add",{bookData:t})},style:{marginRight:5}},l.a.createElement(C.a,null),"Add to shelf"),l.a.createElement("div",{className:"bookCard"},l.a.createElement("img",{className:"imageContainer",alt:n,src:e.thumbnail}),l.a.createElement("div",{className:"textContainer"},n,l.a.createElement("br",null),a),l.a.createElement("div",{className:"options"},t,l.a.createElement(O.a,{overlay:R},l.a.createElement(f.a,{type:"dashed"},"Mark as ",l.a.createElement(L.a,null)))))},x=(a(232),I.a.Search);function A(e){return"undefined"===typeof e}var B=function(){var e=Object(n.useState)([]),t=Object(c.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(""),i=Object(c.a)(o,2),u=i[0],m=i[1];return l.a.createElement("div",{className:"bookSearch"},l.a.createElement("div",{id:"numInput"},l.a.createElement(x,{onChange:function(e){m(e.target.value.trim())},placeholder:"Book Title",onSearch:function(){0!==u.length&&u&&d.a.get("https://www.googleapis.com/books/v1/volumes?q="+u+"&key=AIzaSyC8h_mfSuQv6QnzAbucMydsQlFOVEvhU_o").then((function(e){console.log(e.data.items),r(e.data.items)})).catch((function(e){console.log(e)}))},enterButton:!0})),l.a.createElement("div",{className:"listing"},a&&a.map((function(e,t){return function(e){A(e.volumeInfo.imageLinks)&&(e.volumeInfo.imageLinks={thumbnail:"default",smallThumbnail:"default"});A(e.volumeInfo.subtitle)&&(e.volumeInfo.subtitle=!1);A(e.volumeInfo.authors)&&(e.volumeInfo.authors=[" "]);A(e.volumeInfo.title)&&(e.volumeInfo.title=" ")}(e),l.a.createElement(w,{key:e.id,name:e.volumeInfo.title,thumbnail:e.volumeInfo.imageLinks.thumbnail,subtitle:e.volumeInfo.subtitle,authors:e.volumeInfo.authors,isLibraryRender:!1})}))))};a(239);var G=function(e){var t=Object(n.useState)([]),a=Object(c.a)(t,2),r=a[0],o=a[1];function i(){d.a.get("/library").then((function(e){console.log(e.data),o(e.data)})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){i()}),[]),l.a.createElement("div",{className:"bookLibrary"},e.loggedIn?l.a.createElement("h1",{className:"library"},"Welcome ",e.user&&e.user.displayName):l.a.createElement("h1",{className:"library"},"Login to see your library"),l.a.createElement("div",{className:"listing"},r&&r.map((function(e,t){return l.a.createElement(w,{name:e.title,onChange:i,thumbnail:e.thumbnail,subtitle:e.subtitle,authors:e.authors,isLibraryRender:!0})}))))};a(240);a(241),a(242);var M=a(139);a(243);function F(){var e=new h.auth.GoogleAuthProvider;b.signInWithPopup(e)}function P(e){console.log("logged out"),b.signOut()}var T=function(){var e=Object(M.a)(b),t=Object(c.a)(e,1)[0],a=Object(n.useState)(null),r=Object(c.a)(a,2),o=r[0],m=r[1];return Object(n.useEffect)((function(){m(b.currentUser)}),[t]),Object(n.useEffect)((function(){o&&(console.log("POSTING: "+o.uid),d.a.post("/user",{uid:o.uid}))}),[o]),l.a.createElement(i.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("div",{className:"navbar"},l.a.createElement("div",{className:"title"},l.a.createElement(i.b,{id:"title",to:"/"},"Books Library")),l.a.createElement("div",{className:"buttons"},l.a.createElement("ul",null,l.a.createElement("li",null,l.a.createElement(i.b,{to:"/"},"My Library")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/search"},"Search")),l.a.createElement("li",null,l.a.createElement(i.b,{to:"/settings"},"Settings"))))),l.a.createElement("div",{className:"google-login"},function(e,t){return e?l.a.createElement(f.a,{className:"user-button",onClick:P},l.a.createElement(g.a,null),"Log out"):l.a.createElement(v.a,{onClick:F,type:"dark"})}(t)),l.a.createElement(k,null)),l.a.createElement(u.a,{exact:!0,path:"/search",component:B}),l.a.createElement(u.a,{exact:!0,path:"/"},l.a.createElement(G,{loggedIn:t,user:o})))};o.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(T,null)),document.getElementById("root"))}},[[144,1,2]]]);
//# sourceMappingURL=main.e7ea261b.chunk.js.map