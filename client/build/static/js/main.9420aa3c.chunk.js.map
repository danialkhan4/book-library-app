{"version":3,"sources":["firebase.js","key.js","components/Sidebar.js","components/BookCard.js","components/SearchPage.js","components/Library.js","components/LandingPage.js","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","measurementId","auth","firestore","Sidebar","className","style","width","mode","ItemGroup","key","title","Item","marginTop","marginLeft","type","Text","Typography","menu","onClick","console","log","Book","props","authorsList","titleString","len","authors","length","i","push","subtitle","name","strong","alt","src","thumbnail","marginRight","ImportOutlined","overlay","DownOutlined","Search","Input","isUndefined","object","SearchPage","useState","books","setBooks","searchInput","setSearchInput","id","onChange","event","target","value","trim","placeholder","onSearch","axios","get","then","response","data","items","catch","error","enterButton","map","item","volumeInfo","imageLinks","smallThumbnail","handleUndefinedData","BookCard","Library","loggedIn","user","displayName","LandingPage","googleLogin","provider","GoogleAuthProvider","signInWithPopup","logout","signOut","App","useAuthState","setUser","useEffect","currentUser","uid","post","to","LogoutOutlined","renderLogin","exact","path","component","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.9420aa3c.chunk.js","sourcesContent":["import firebase from 'firebase/app';\r\nimport {authData} from './key';\r\nimport 'firebase/firestore';\r\nimport 'firebase/auth';\r\n\r\nfirebase.initializeApp(authData);\r\n\r\nexport const auth = firebase.auth();\r\nexport const firestore = firebase.firestore();\r\n\r\nexport default firebase;\r\n\r\n","export const authData = {\r\n  apiKey: \"AIzaSyCbb11Pr-rx9Sk6oFW95_eP8LmZpxEdJEM\",\r\n  authDomain: \"book-library-app-8eb19.firebaseapp.com\",\r\n  databaseURL: \"https://book-library-app-8eb19.firebaseio.com\",\r\n  projectId: \"book-library-app-8eb19\",\r\n  storageBucket: \"book-library-app-8eb19.appspot.com\",\r\n  messagingSenderId: \"553206836295\",\r\n  appId: \"1:553206836295:web:ca4ff0892ff6fd281b1562\",\r\n  measurementId: \"G-KFFN83VGEQ\"\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport '../css/sidebar.css';\r\n\r\nimport { Menu, Button } from 'antd';\r\nimport 'antd/dist/antd.css';\r\n\r\nfunction Sidebar() {\r\n\treturn (\r\n        <div className=\"sidebar\">\r\n            <Menu style={{ width: 252 }} mode=\"inline\">\r\n                <Menu.ItemGroup key=\"g1\" title=\"My Books\">\r\n                    <Menu.Item key=\"1\">Reading</Menu.Item>\r\n                    <Menu.Item key=\"2\">Want to read</Menu.Item>\r\n                    <Menu.Item key=\"3\">Read</Menu.Item>\r\n                </Menu.ItemGroup>\r\n\r\n                <Menu.ItemGroup key=\"g2\" title=\"Bookshelves\">\r\n                    <Menu.Item key=\"4\">Favorites</Menu.Item>\r\n                </Menu.ItemGroup>\r\n            \r\n            </Menu>\r\n            <Button style={{marginTop: 185, marginLeft:120}}className=\"create-button\"type=\"dashed\">+ Create</Button>\r\n        </div>\r\n    );\r\n}\r\n\r\n\r\nexport default Sidebar;","import React from 'react';\r\nimport { Typography, Button, Menu, Dropdown   } from 'antd';\r\nimport '../css/bookcard.css';\r\n\r\nimport { DownOutlined, ImportOutlined } from '@ant-design/icons'\r\n\r\nconst { Text } = Typography;\r\n\r\nconst menu = (\r\n\t<Menu onClick={console.log(\"click\")}>\r\n\t\t<Menu.Item key=\"1\">Read</Menu.Item>\r\n\t\t<Menu.Item key=\"2\">Currently reading</Menu.Item>\r\n\t\t<Menu.Item key=\"3\">Want to read</Menu.Item>\r\n  </Menu>\r\n);\r\n\r\nfunction Book(props) {\r\n\tlet authorsList = [];\r\n\tlet titleString  = [];\r\n\r\n\tconst len = props.authors.length - 1;\r\n\t\r\n\t/*\r\n\t* push the authors into authorsList so there is a nice string like Author 1, Author 2\r\n\t*/\r\n\tfor (let i = 0; i < props.authors.length; i++) {\r\n\t\tif (props.authors.length === 1) {\r\n\t\t\tauthorsList.push(<Text key={i}>{props.authors[i]}</Text>);\r\n\t\t} else if (i !== len) {\r\n\t\t\tauthorsList.push(<Text key={i}>{props.authors[i]}, </Text>);\r\n\t\t} else {\r\n\t\t\tauthorsList.push(<Text key={i}>{props.authors[i]}</Text>);\r\n\t\t}\r\n\t}\r\n\r\n\t\r\n\t/*\r\n\t* push the title and subtitle together for something like Book Title: Subtitle \r\n\t*/\r\n\tif (props.subtitle) {\r\n\t\ttitleString.push(<Text key={props.name}strong >{props.name}: {props.subtitle}<br/></Text>);\r\n\t} else {\r\n\t\ttitleString.push(<Text key={props.name}strong >{props.name}<br/></Text>);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className=\"bookCard\"> \r\n\t\t\t<img className=\"imageContainer\" alt={titleString} src={props.thumbnail} />\r\n\t\t\t<div className=\"textContainer\" >\r\n\t\t\t\t{titleString}<br/>\r\n\t\t\t\t{authorsList}\r\n    \t\t</div>\r\n\r\n\t\t\t<div className=\"options\">\r\n\t\t\t\t<Button style={{marginRight: 5}}><ImportOutlined />Add to Shelf</Button>\r\n\t\t\t\t<Dropdown overlay={menu}>\r\n\t\t\t\t\t<Button type=\"dashed\">\r\n\t\t\t\t\t\tMark as <DownOutlined />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Dropdown>\r\n\t\t\t</div>\r\n\t\t</div> \r\n\r\n\t);\r\n}\r\n\r\nexport default Book;\r\n","import React, {useState} from 'react';\r\nimport axios from 'axios';\r\n\r\nimport { Input } from 'antd';\r\n\r\nimport BookCard from './BookCard';\r\nimport '../css/booksearch.css';\r\n\r\nconst { Search } = Input;\r\n\r\nfunction SearchPage() {\r\n    const [books, setBooks ] = useState([]); \r\n    const [searchInput, setSearchInput] = useState(''); \r\n    //const [loading, setLoading] = useState(false);\r\n\r\n    function handleInput(event) {\r\n        setSearchInput(event.target.value.trim());\r\n    }\r\n\r\n    /*\r\n\t* api fetch using searchInput as the query \r\n\t*/\r\n    function handleSearch() {\r\n        if (searchInput.length === 0 || !searchInput) {\r\n            //TODO: error messages\r\n            return;\r\n        }\r\n\r\n        axios.get('https://www.googleapis.com/books/v1/volumes?q='+searchInput+'&key=AIzaSyC8h_mfSuQv6QnzAbucMydsQlFOVEvhU_o')\r\n        .then(response => {\r\n            console.log(response);\r\n            setBooks(response.data.items);\r\n        })\r\n        .catch(function (error) {\r\n            //TODO: error messages\r\n            console.log(error);\r\n        })\r\n\r\n }\r\n\r\n\r\n\treturn (\r\n\t\t<div className=\"bookSearch\">\r\n            <div id=\"numInput\">\r\n                <Search onChange={handleInput} placeholder=\"Book Title\" onSearch={handleSearch} enterButton />\r\n            </div>\r\n            \r\n            <div className=\"listing\">\r\n            {\r\n                books && books.map((item, i) => {\r\n                    handleUndefinedData(item); \r\n                    return <BookCard key={item.id}\r\n                        name={item.volumeInfo.title} \r\n                        thumbnail={item.volumeInfo.imageLinks.thumbnail} \r\n                        subtitle= {item.volumeInfo.subtitle}\r\n                        authors = {item.volumeInfo.authors}\r\n                    />\r\n                    \r\n                })\r\n            }\r\n            </div>\r\n        </div>\r\n\t);\r\n}\r\n\r\n/*\r\nhandle any undefined data from the api call before mapping\r\n*/\r\nfunction handleUndefinedData(item) {\r\n    if (isUndefined(item.volumeInfo.imageLinks)) {\r\n        item.volumeInfo.imageLinks = {\r\n            thumbnail: \"default\",\r\n            smallThumbnail: \"default\"\r\n        }\r\n    }\r\n\r\n    if (isUndefined(item.volumeInfo.subtitle)) \r\n        item.volumeInfo.subtitle = false;\r\n    \r\n    if (isUndefined(item.volumeInfo.authors))    \r\n        item.volumeInfo.authors = [\" \"];\r\n    \r\n    if (isUndefined(item.volumeInfo.title)) \r\n        item.volumeInfo.title = \" \";\r\n}\r\n\r\n/*\r\n* undefined handling\r\n*/\r\nfunction isUndefined(object) {\r\n    return typeof(object) === 'undefined' ? true : false; \r\n}\r\n\r\nexport default SearchPage;\r\n","import React from 'react';\r\n\r\nimport '../css/library.css';\r\nfunction Library(props) {\r\n    return (\r\n        <div>\r\n            { props.loggedIn ? <h1 className=\"library\">Welcome {props.user && props.user.displayName}</h1> :\r\n            <h1 className=\"library\">Login to see your library</h1>\r\n            }\r\n        </div>\r\n    );\r\n\r\n}\r\n\r\nexport default Library;","import React from 'react';\r\nimport '../css/landingpage.css';\r\nfunction LandingPage() {\r\n    return (\r\n        <div className=\"landing\">\r\n            <h1>Welcome</h1>\r\n\r\n        </div>\r\n  );\r\n\r\n}\r\n\r\nexport default LandingPage;","import React, { useState, useEffect } from 'react';\r\nimport {Route, BrowserRouter as Router, Link} from  'react-router-dom';\r\nimport firebase from './firebase'\r\nimport {auth, firestore} from './firebase'\r\n\r\nimport axios from 'axios';\r\n\r\nimport { Button } from 'antd';\r\nimport {MenuOutlined, LogoutOutlined} from '@ant-design/icons';\r\nimport GoogleButton from 'react-google-button'\r\n\r\nimport Sidebar from './components/Sidebar';\r\nimport SearchPage from './components/SearchPage';\r\nimport Library from './components/Library';\r\nimport LandingPage from './components/LandingPage';\r\n\r\nimport './css/index.css';\r\nimport './css/navbar.css';\r\n\r\n\r\n/* firebase hooks*/\r\nimport {useAuthState} from 'react-firebase-hooks/auth';\r\nimport {useCollectionData} from 'react-firebase-hooks/firestore';\r\n\r\n\r\nfunction App() {\r\n\tconst [loggedIn] = useAuthState(auth);\r\n\tconst [user, setUser] = useState(null);\r\n\t\r\n \tuseEffect( () => {\r\n\t\tsetUser(auth.currentUser);\r\n\t}, [loggedIn]);  \r\n\t\r\n\tuseEffect(() => {\r\n\t\tif (user) {\r\n\t\t\tconsole.log(\"POSTING: \" + user.uid);\r\n\t\t\taxios.post('/user', {\r\n\t\t\t\tuid: user.uid\r\n\t\t\t})\r\n\t\t} \r\n\t}, [user]);  \r\n\r\n\treturn ( \r\n\t\t<Router>\r\n\t\t\t<div className=\"App\">\r\n\r\n\t\t\t\t<div className=\"navbar\">\r\n\r\n\t\t\t\t\t<div className=\"title\"><Link id=\"title\" to =\"/\">Books Library</Link></div>\r\n\r\n\t\t\t\t\t<div className=\"buttons\">\r\n\t\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t<li><Link to =\"/\">My Library</Link></li>\r\n\t\t\t\t\t\t<li><Link to =\"/search\">Search</Link></li>\r\n\t\t\t\t\t\t<li><Link to =\"/settings\">Settings</Link></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t\t\t<div className=\"google-login\"> \r\n\t\t\t\t\t\t{renderLogin(loggedIn)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t<Sidebar />\r\n\t\t\t</div> \r\n\t\t\t<Route exact path =\"/search\" component={SearchPage}/>\t\t\r\n\t\t\t<Route exact path=\"/\">\r\n\t\t\t\t<Library loggedIn={loggedIn} user={user}/>\r\n\t\t\t</Route>\t\r\n\t\t</Router>\r\n\t);\r\n}\r\n\r\nfunction renderLogin(loggedIn, user) {\r\n\treturn (\r\n\t\tloggedIn ? <Button className=\"user-button\" onClick={logout}><LogoutOutlined />Log out</Button> :\r\n\t\t<GoogleButton onClick={googleLogin} type=\"dark\"/>\r\n\t);\r\n}\r\n\r\nfunction googleLogin() {\r\n\tconst provider = new firebase.auth.GoogleAuthProvider();\r\n\tauth.signInWithPopup(provider);\r\n}\r\n\r\nfunction logout(user) {\r\n\tconsole.log(\"logged out\");\r\n\tauth.signOut();\r\n}\r\n\r\n\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\n\r\nReactDOM.render(\r\n\t<React.StrictMode>\r\n\t\t<App />\r\n\t</React.StrictMode>,\r\n\tdocument.getElementById('root')\r\n);\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n\r\n"],"sourceRoot":""}