(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{150:function(e,t,a){e.exports=a.p+"static/media/preview.13e27706.png"},156:function(e,t,a){e.exports=a(263)},182:function(e,t,a){},237:function(e,t,a){},252:function(e,t,a){},257:function(e,t,a){},259:function(e,t,a){},260:function(e,t,a){},261:function(e,t,a){},263:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(14),o=a.n(l),c=a(46),i=a(50),u=a(82),s=a.n(u);a(161),a(164);s.a.initializeApp({apiKey:"AIzaSyCbb11Pr-rx9Sk6oFW95_eP8LmZpxEdJEM",authDomain:"book-library-app-8eb19.firebaseapp.com",databaseURL:"https://book-library-app-8eb19.firebaseio.com",projectId:"book-library-app-8eb19",storageBucket:"book-library-app-8eb19.appspot.com",messagingSenderId:"553206836295",appId:"1:553206836295:web:ca4ff0892ff6fd281b1562",measurementId:"G-KFFN83VGEQ"});var m=s.a.auth(),b=(s.a.firestore(),s.a),p=r.a.createContext();function h(){return Object(n.useContext)(p)}function d(e){var t=e.children,a=Object(n.useState)(null),l=Object(i.a)(a,2),o=l[0],c=l[1],u=Object(n.useState)(!0),s=Object(i.a)(u,2),h=s[0],d=s[1];Object(n.useEffect)((function(){return m.onAuthStateChanged((function(e){c(e),d(!1)}))}),[]);var E={user:o,login:function(){var e=new b.auth.GoogleAuthProvider;return m.signInWithPopup(e)},logout:function(){return m.signOut()}};return r.a.createElement(p.Provider,{value:E},!h&&t)}var E=a(30),f=a(65),v=a(273),g=a(274),y=a(47),k=a.n(y),w=a(56),O=a(61),j=a.n(O),I=a(267),N=a(154),x=a(264),S=a(265),C=a(266),L=a(268),A=(a(182),a(269)),R=a(270),B=a(271),P=S.a.Text,z=r.a.createElement(C.a,{onClick:console.log("click")},r.a.createElement(C.a.Item,{key:"1"},"Read"),r.a.createElement(C.a.Item,{key:"2"},"Currently reading"),r.a.createElement(C.a.Item,{key:"3"},"Want to read"));var T=function(e){for(var t,a=[],n=[],l=h().user,o=e.authors.length-1,c=0;c<e.authors.length;c++)1===e.authors.length?a.push(r.a.createElement(P,{key:c},e.authors[c])):c!==o?a.push(r.a.createElement(P,{key:c},e.authors[c],", ")):a.push(r.a.createElement(P,{key:c},e.authors[c]));return e.subtitle?n.push(r.a.createElement(P,{key:e.name,strong:!0},e.name,": ",e.subtitle,r.a.createElement("br",null))):n.push(r.a.createElement(P,{key:e.name,strong:!0},e.name,r.a.createElement("br",null))),t=e.isLibraryRender?r.a.createElement(f.a,{onClick:function(){var t={title:e.name,authors:e.authors,subtitle:e.subtitle,thumbnail:e.thumbnail};j.a.post("/api/user/remove",{bookData:t,uid:l.uid}).then((function(t){e.onChange()})).catch((function(e){N.b.error("(Error) book was not added")}))},style:{marginRight:5}},r.a.createElement(A.a,null)):r.a.createElement(f.a,{type:"primary",onClick:function(){if(l){var t={title:e.name,authors:e.authors,subtitle:e.subtitle,thumbnail:e.thumbnail};j.a.post("/api/user/add",{bookData:t,uid:l.uid}).then((function(e){switch(e.status){case 227:N.b.warning("This book is already in your library");break;default:N.b.success("Book added to your library")}})).catch((function(e){N.b.error("(Error) book was not added")}))}else N.b.error("You must be logged in to do that")},style:{marginRight:5}},r.a.createElement(R.a,null),"Add to shelf"),r.a.createElement("div",{className:"bookCard"},r.a.createElement("img",{className:"imageContainer",alt:n,src:e.thumbnail}),r.a.createElement("div",{className:"textContainer"},n,r.a.createElement("br",null),a),r.a.createElement("div",{className:"options"},t,e.isLibraryRender&&r.a.createElement(L.a,{overlay:z},r.a.createElement(f.a,{type:"dashed"},"Mark as ",r.a.createElement(B.a,null)))))},F=(a(237),I.a.Search);var G=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(i.a)(o,2),u=c[0],s=c[1],m=Object(n.useState)(!1),b=Object(i.a)(m,2),p=b[0],h=b[1];function d(){return(d=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),e.prev=1,0!==u.length&&u){e.next=6;break}return N.b.warning("Please enter something"),h(!1),e.abrupt("return");case 6:j.a.get("https://www.googleapis.com/books/v1/volumes?q="+u+"&key=AIzaSyC8h_mfSuQv6QnzAbucMydsQlFOVEvhU_o").then((function(e){l(e.data.items),h(!1)})).catch((function(e){N.b.error("Error occurred "),h(!1)})),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),N.b.error("Error occurred "),h(!1);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function E(e){return"undefined"===typeof e}return r.a.createElement("div",{className:"bookSearch"},r.a.createElement("div",{id:"numInput"},r.a.createElement(F,{onChange:function(e){s(e.target.value.trim())},placeholder:"Book Title",onSearch:function(){return d.apply(this,arguments)},enterButton:!0})),r.a.createElement("div",{id:"spinner"},p&&r.a.createElement(x.a,null)),r.a.createElement("div",{className:"listing"},a&&a.map((function(e,t){return function(e){E(e.volumeInfo.imageLinks)&&(e.volumeInfo.imageLinks={thumbnail:"default",smallThumbnail:"default"}),E(e.volumeInfo.subtitle)&&(e.volumeInfo.subtitle=!1),E(e.volumeInfo.authors)&&(e.volumeInfo.authors=[" "]),E(e.volumeInfo.title)&&(e.volumeInfo.title=" ")}(e),r.a.createElement(T,{key:e.id,name:e.volumeInfo.title,thumbnail:e.volumeInfo.imageLinks.thumbnail,subtitle:e.volumeInfo.subtitle,authors:e.volumeInfo.authors,isLibraryRender:!1})}))))};a(252);var M=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),c=Object(i.a)(o,2),u=c[0],s=c[1],m=Object(n.useState)(!1),b=Object(i.a)(m,2),p=b[0],d=b[1],E=h().user;function f(){s(!u)}return Object(n.useEffect)((function(){function e(){return(e=Object(w.a)(k.a.mark((function e(){return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{E?j.a.get("/api/library",{params:{uid:E.uid}}).then((function(e){l(e.data),d(!1)})).catch((function(e){console.log(e),d(!1)})):(l([]),d(!1))}catch(t){console.log(t),d(!1)}case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}d(!0),function(){e.apply(this,arguments)}()}),[E,u]),r.a.createElement("div",{className:"bookLibrary"},E?r.a.createElement("h3",{className:"library"},E&&E.displayName,"'s Books ",p&&r.a.createElement(x.a,null)):r.a.createElement("h1",{className:"library"},"Login to see your library"),r.a.createElement("div",{className:"listing"},a&&a.map((function(e,t){return r.a.createElement(T,{key:e.title+e.authors,name:e.title,onChange:f,thumbnail:e.thumbnail,subtitle:e.subtitle,authors:e.authors,isLibraryRender:!0})}))))},_=a(149),Q=a.n(_);a(257);var W=function(){var e=h().login,t=(S.a.Text,S.a.Title),a=Object(E.g)();function n(){return(n=Object(w.a)(k.a.mark((function t(){return k.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e();case 3:a.push("/library"),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),N.b.error("Error occurred");case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"login-card"},r.a.createElement(t,{level:5},"\u2500\u2500 Login \u2500\u2500"),r.a.createElement(Q.a,{id:"google-login",onClick:function(){return n.apply(this,arguments)},type:"dark"}))},D=a(272);var J=function(){var e=h().logout,t=Object(E.g)();function a(){return(a=Object(w.a)(k.a.mark((function a(){return k.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,e();case 3:t.push("/"),a.next=9;break;case 6:a.prev=6,a.t0=a.catch(0),N.b.error("Logout failed");case 9:case"end":return a.stop()}}),a,null,[[0,6]])})))).apply(this,arguments)}return r.a.createElement(f.a,{onClick:function(){return a.apply(this,arguments)},size:"medium"},r.a.createElement(D.a,null),"Logout")},V=a(155);var K=function(e){var t=e.component,a=Object(V.a)(e,["component"]),n=h().user;return r.a.createElement(E.b,Object.assign({},a,{render:function(e){return n?r.a.createElement(t,e):r.a.createElement(E.a,{to:"/login"})}}))},U=(a(259),a(150)),q=a.n(U);var Y=function(){return r.a.createElement("div",{className:"landing"},r.a.createElement("h2",null,"Welcome"),r.a.createElement("p",null,"A web application that allows users to search for and create a library of their favorite books."),r.a.createElement("p",null,"Features"),r.a.createElement("ul",null,r.a.createElement("li",null,"Search for any published book using title, authors, or topic"),r.a.createElement("li",null,"Remove or add any book to your library"),r.a.createElement("li",null,"Mark books as read, currently reading, or finished")),r.a.createElement("p",null,"Click [Login] at the top right to begin."),r.a.createElement("p",null,"Searching for books is enabled without loggin in."),r.a.createElement("h2",null,"Preview"),r.a.createElement("div",{className:"container"},r.a.createElement("img",{alt:"preview",className:"image",src:q.a}),r.a.createElement("div",{className:"middle"},r.a.createElement("div",{className:"text"},"Preview"))))};a(260),a(261),a(262);var Z=function(){var e=h().user;return r.a.createElement(c.a,null,r.a.createElement("div",{className:"App"},r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"leftInfo"},r.a.createElement("div",{className:"title"},r.a.createElement(c.b,{id:"title",to:"/"},"Books Library")),r.a.createElement("div",{className:"buttons"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(c.b,{to:"/library"},"My Library")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/search"},"Search")),r.a.createElement("li",null,r.a.createElement(c.b,{to:"/settings"},"Settings"))))),r.a.createElement("div",{className:"rightInfo"},r.a.createElement("div",{className:"links"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(f.a,{href:"https://github.com/danialkhan4/book-library-web-app",target:"_blank",type:"link",block:!0},r.a.createElement(v.a,null),"View Github")),r.a.createElement("li",null,r.a.createElement(f.a,{href:"https://developers.google.com/books",target:"_blank",type:"link",block:!0},r.a.createElement(g.a,null),"Google Books")))),r.a.createElement("div",{className:"login"},r.a.createElement("ul",null,r.a.createElement("li",null,e?r.a.createElement(J,null):r.a.createElement(c.b,{to:"/login"},r.a.createElement(f.a,{type:"primary",size:"large"},"Login")))))))),r.a.createElement(E.d,null,r.a.createElement(E.b,{exact:!0,path:"/search",component:G}),r.a.createElement(K,{exact:!0,path:"/library",component:M}),r.a.createElement(E.b,{exact:!0,path:"/login",component:W}),r.a.createElement(E.b,{exact:!0,path:"/",component:Y})))};o.a.render(r.a.createElement(c.a,null,r.a.createElement(d,null,r.a.createElement(Z,null))),document.getElementById("root"))}},[[156,1,2]]]);
//# sourceMappingURL=main.f74c278d.chunk.js.map